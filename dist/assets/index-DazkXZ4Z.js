import{I as z}from"./index-CaUUDcy2.js";import{C as K,l as E,k as h,m as y,z as $,D as W,B as D,E as G,G as H,_ as J,r as M,J as R,o as g,w as S,d as T,q as L,n as w,f as Q,t as P,T as X,c as _,F as Y,K as Z,a as C}from"./index-DDNgua1v.js";import{m as ee,o as I,t as O,V as N,R as V,h as te,F as ae,u as le,O as ne,a as b,v as se,M as j,D as U}from"./focus-management-BVcv6Qz0.js";import{p as oe,l as B,y as re,c as ue}from"./use-outside-click--EiZLOTR.js";import{b as ie}from"./use-resolve-button-type-CBgqNcOC.js";function ce(t){throw new Error("Unexpected object: "+t)}var k=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(k||{});function de(t,c){let r=c.resolveItems();if(r.length<=0)return null;let v=c.resolveActiveIndex(),e=v??-1,p=(()=>{switch(t.focus){case 0:return r.findIndex(l=>!c.resolveDisabled(l));case 1:{let l=r.slice().reverse().findIndex((u,i,m)=>e!==-1&&m.length-i-1>=e?!1:!c.resolveDisabled(u));return l===-1?l:r.length-1-l}case 2:return r.findIndex((l,u)=>u<=e?!1:!c.resolveDisabled(l));case 3:{let l=r.slice().reverse().findIndex(u=>!c.resolveDisabled(u));return l===-1?l:r.length-1-l}case 4:return r.findIndex(l=>c.resolveId(l)===t.id);case 5:return null;default:ce(t)}})();return p===-1?v:p}function ve({container:t,accept:c,walk:r,enabled:v}){K(()=>{let e=t.value;if(!e||v!==void 0&&!v.value)return;let p=ee(t);if(!p)return;let l=Object.assign(i=>c(i),{acceptNode:c}),u=p.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,l,!1);for(;u.nextNode();)r(u.currentNode)})}var pe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(pe||{}),fe=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(fe||{});function me(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let q=Symbol("MenuContext");function F(t){let c=G(q,null);if(c===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,F),r}return c}let be=E({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:c,attrs:r}){let v=h(1),e=h(null),p=h(null),l=h([]),u=h(""),i=h(null),m=h(1);function d(n=s=>s){let s=i.value!==null?l.value[i.value]:null,o=ne(n(l.value.slice()),x=>I(x.dataRef.domRef)),f=s?o.indexOf(s):null;return f===-1&&(f=null),{items:o,activeItemIndex:f}}let a={menuState:v,buttonRef:e,itemsRef:p,items:l,searchQuery:u,activeItemIndex:i,activationTrigger:m,closeMenu:()=>{v.value=1,i.value=null},openMenu:()=>v.value=0,goToItem(n,s,o){let f=d(),x=de(n===k.Specific?{focus:k.Specific,id:s}:{focus:n},{resolveItems:()=>f.items,resolveActiveIndex:()=>f.activeItemIndex,resolveId:A=>A.id,resolveDisabled:A=>A.dataRef.disabled});u.value="",i.value=x,m.value=o??1,l.value=f.items},search(n){let s=u.value!==""?0:1;u.value+=n.toLowerCase();let o=(i.value!==null?l.value.slice(i.value+s).concat(l.value.slice(0,i.value+s)):l.value).find(x=>x.dataRef.textValue.startsWith(u.value)&&!x.dataRef.disabled),f=o?l.value.indexOf(o):-1;f===-1||f===i.value||(i.value=f,m.value=1)},clearSearch(){u.value=""},registerItem(n,s){let o=d(f=>[...f,{id:n,dataRef:s}]);l.value=o.items,i.value=o.activeItemIndex,m.value=1},unregisterItem(n){let s=d(o=>{let f=o.findIndex(x=>x.id===n);return f!==-1&&o.splice(f,1),o});l.value=s.items,i.value=s.activeItemIndex,m.value=1}};return re([e,p],(n,s)=>{var o;a.closeMenu(),te(s,ae.Loose)||(n.preventDefault(),(o=I(e))==null||o.focus())},y(()=>v.value===0)),H(q,a),ue(y(()=>le(v.value,{0:B.Open,1:B.Closed}))),()=>{let n={open:v.value===0};return N({ourProps:{},theirProps:t,slot:n,slots:c,attrs:r,name:"Menu"})}}}),Ie=E({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"}},setup(t,{attrs:c,slots:r,expose:v}){let e=F("MenuButton"),p=`headlessui-menu-button-${O()}`;v({el:e.buttonRef,$el:e.buttonRef});function l(d){switch(d.key){case b.Space:case b.Enter:case b.ArrowDown:d.preventDefault(),d.stopPropagation(),e.openMenu(),D(()=>{var a;(a=I(e.itemsRef))==null||a.focus({preventScroll:!0}),e.goToItem(k.First)});break;case b.ArrowUp:d.preventDefault(),d.stopPropagation(),e.openMenu(),D(()=>{var a;(a=I(e.itemsRef))==null||a.focus({preventScroll:!0}),e.goToItem(k.Last)});break}}function u(d){switch(d.key){case b.Space:d.preventDefault();break}}function i(d){t.disabled||(e.menuState.value===0?(e.closeMenu(),D(()=>{var a;return(a=I(e.buttonRef))==null?void 0:a.focus({preventScroll:!0})})):(d.preventDefault(),e.openMenu(),me(()=>{var a;return(a=I(e.itemsRef))==null?void 0:a.focus({preventScroll:!0})})))}let m=ie(y(()=>({as:t.as,type:c.type})),e.buttonRef);return()=>{var d;let a={open:e.menuState.value===0},n={ref:e.buttonRef,id:p,type:m.value,"aria-haspopup":!0,"aria-controls":(d=I(e.itemsRef))==null?void 0:d.id,"aria-expanded":t.disabled?void 0:e.menuState.value===0,onKeydown:l,onKeyup:u,onClick:i};return N({ourProps:n,theirProps:t,slot:a,attrs:c,slots:r,name:"MenuButton"})}}}),ke=E({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:c,slots:r,expose:v}){let e=F("MenuItems"),p=`headlessui-menu-items-${O()}`,l=h(null);v({el:e.itemsRef,$el:e.itemsRef}),ve({container:y(()=>I(e.itemsRef)),enabled:y(()=>e.menuState.value===0),accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function u(a){var n;switch(l.value&&clearTimeout(l.value),a.key){case b.Space:if(e.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),e.search(a.key);case b.Enter:if(a.preventDefault(),a.stopPropagation(),e.activeItemIndex.value!==null){let s=e.items.value[e.activeItemIndex.value];(n=I(s.dataRef.domRef))==null||n.click()}e.closeMenu(),U(I(e.buttonRef));break;case b.ArrowDown:return a.preventDefault(),a.stopPropagation(),e.goToItem(k.Next);case b.ArrowUp:return a.preventDefault(),a.stopPropagation(),e.goToItem(k.Previous);case b.Home:case b.PageUp:return a.preventDefault(),a.stopPropagation(),e.goToItem(k.First);case b.End:case b.PageDown:return a.preventDefault(),a.stopPropagation(),e.goToItem(k.Last);case b.Escape:a.preventDefault(),a.stopPropagation(),e.closeMenu(),D(()=>{var s;return(s=I(e.buttonRef))==null?void 0:s.focus({preventScroll:!0})});break;case b.Tab:a.preventDefault(),a.stopPropagation(),e.closeMenu(),D(()=>se(I(e.buttonRef),a.shiftKey?j.Previous:j.Next));break;default:a.key.length===1&&(e.search(a.key),l.value=setTimeout(()=>e.clearSearch(),350));break}}function i(a){switch(a.key){case b.Space:a.preventDefault();break}}let m=oe(),d=y(()=>m!==null?m.value===B.Open:e.menuState.value===0);return()=>{var a,n;let s={open:e.menuState.value===0},o={"aria-activedescendant":e.activeItemIndex.value===null||(a=e.items.value[e.activeItemIndex.value])==null?void 0:a.id,"aria-labelledby":(n=I(e.buttonRef))==null?void 0:n.id,id:p,onKeydown:u,onKeyup:i,role:"menu",tabIndex:0,ref:e.itemsRef};return N({ourProps:o,theirProps:t,slot:s,attrs:c,slots:r,features:V.RenderStrategy|V.Static,visible:d.value,name:"MenuItems"})}}}),ge=E({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1}},setup(t,{slots:c,attrs:r,expose:v}){let e=F("MenuItem"),p=`headlessui-menu-item-${O()}`,l=h(null);v({el:l,$el:l});let u=y(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===p:!1),i=y(()=>({disabled:t.disabled,textValue:"",domRef:l}));$(()=>{var s,o;let f=(o=(s=I(l))==null?void 0:s.textContent)==null?void 0:o.toLowerCase().trim();f!==void 0&&(i.value.textValue=f)}),$(()=>e.registerItem(p,i)),W(()=>e.unregisterItem(p)),K(()=>{e.menuState.value===0&&(!u.value||e.activationTrigger.value!==0&&D(()=>{var s,o;return(o=(s=I(l))==null?void 0:s.scrollIntoView)==null?void 0:o.call(s,{block:"nearest"})}))});function m(s){if(t.disabled)return s.preventDefault();e.closeMenu(),U(I(e.buttonRef))}function d(){if(t.disabled)return e.goToItem(k.Nothing);e.goToItem(k.Specific,p)}function a(){t.disabled||u.value||e.goToItem(k.Specific,p,0)}function n(){t.disabled||!u.value||e.goToItem(k.Nothing)}return()=>{let{disabled:s}=t,o={active:u.value,disabled:s};return N({ourProps:{id:p,ref:l,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,onClick:m,onFocus:d,onPointermove:a,onMousemove:a,onPointerleave:n,onMouseleave:n},theirProps:t,slot:o,attrs:r,slots:c,name:"MenuItem"})}}});const he={components:{Menu:be,MenuButton:Ie,MenuItems:ke,MenuItem:ge,Icon:z},props:{label:{type:String,default:"DropDown"},labelClass:{type:String},classMenuItems:{type:String,default:"mt-2 w-[220px]"},classItem:{type:String,default:"px-4 py-2"},parentClass:{type:String,default:"inline-block"},items:{type:Array,default:()=>[{label:"Action",link:"#"},{label:"Another action",link:"#"},{label:"Something else here",link:"#"},{label:"Separated link",link:"#",hasDivider:!0}]}}},xe={key:0},ye={key:0,class:"flex items-center"},Se={class:"block text-xl ltr:mr-3 rtl:ml-3"},_e={class:"block text-sm"},Me={key:1,class:"block text-sm"},De={key:0,class:"flex items-center"},Re={class:"block text-xl ltr:mr-3 rtl:ml-3"},we={class:"block text-sm"},Pe={key:1,class:"block text-sm"};function Te(t,c,r,v,e,p){const l=M("MenuButton"),u=M("Icon"),i=M("router-link"),m=M("MenuItem"),d=M("MenuItems"),a=M("Menu");return g(),R(a,{as:"div",class:w(["relative",r.parentClass])},{default:S(()=>[t.$slots.default?(g(),R(l,{key:0,class:"block w-full"},{default:S(()=>[L(t.$slots,"default")]),_:3})):(g(),R(l,{key:1,class:w([r.labelClass,"block w-full"])},{default:S(()=>[Q(P(r.label),1)]),_:1},8,["class"])),T(X,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:S(()=>[T(d,{class:w([r.classMenuItems,"absolute ltr:right-0 rtl:left-0 origin-top-right rounded bg-white dark:bg-slate-800 dark:border dark:border-slate-700 shadow-dropdown z-[9999]"])},{default:S(()=>[t.$slots.menus?L(t.$slots,"menus",{key:1}):(g(),_("div",xe,[(g(!0),_(Y,null,Z(r.items,(n,s)=>(g(),R(m,{key:s},{default:S(({active:o})=>[n.link?(g(),R(i,{key:0,class:w(`${o?"bg-slate-100 text-slate-900 dark:bg-slate-600 dark:text-slate-300 dark:bg-opacity-50":"text-slate-600 dark:text-slate-300"} block   ${r.classItem}  ${n.hasDivider?"border-t border-slate-100 dark:border-slate-700":""}`),to:n.link},{default:S(()=>[n.icon?(g(),_("div",ye,[C("span",Se,[T(u,{icon:n.icon},null,8,["icon"])]),C("span",_e,P(n.label),1)])):(g(),_("span",Me,P(n.label),1))]),_:2},1032,["class","to"])):(g(),_("span",{key:1,class:w(`${o?"bg-slate-100 text-slate-800":""}  ${n.hasDivider===!0?"border-t border-gray-500 dark:border-slate-700":""}  block ${r.classItem}`)},[n.icon?(g(),_("div",De,[C("span",Re,[T(u,{icon:n.icon},null,8,["icon"])]),C("span",we,P(n.label),1)])):(g(),_("span",Pe,P(n.label),1))],2))]),_:2},1024))),128))]))]),_:3},8,["class"])]),_:3})]),_:3},8,["class"])}const Be=J(he,[["render",Te]]);export{Be as D,ge as S,k as a,ve as p,de as x};
