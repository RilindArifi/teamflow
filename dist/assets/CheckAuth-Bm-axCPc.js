import{e as i,O as r,C as n,v as l,c as d,o as f,al as u,l as _}from"./index-rbxh5PlU.js";const h="/assets/logo-CCkgaLJw.svg",p={id:"loading-bg"},v=_('<div class="loading-logo text-center"><img src="'+h+'" alt="Logo"></div><div class="loading"><div class="effect-1 effects"></div><div class="effect-2 effects"></div><div class="effect-3 effects"></div></div>',2),g=[v],w={__name:"CheckAuth",setup(k){const e=i(),s=r(),t=n(),o=async()=>{const a=s.query.token;if(a&&!e.token){u.set("token",a,{expires:7}),e.token=a;try{await e.fetchUser(),await t.replace({name:"dashboard"})}catch{await t.replace({name:"login"})}}else e.token?await t.replace({name:"dashboard"}):await t.replace({name:"login"})};return l(()=>{o()}),(a,c)=>(f(),d("div",p,g))}};export{w as default};
