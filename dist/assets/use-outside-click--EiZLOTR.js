import{E as s,G as v,C as p,m as E,k as w}from"./index-DDNgua1v.js";import{e as y,o as L,h as C,F as b}from"./focus-management-BVcv6Qz0.js";let f=Symbol("Context");var x=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(x||{});function D(){return h()!==null}function h(){return s(f,null)}function F(e){v(f,e)}function a(e,l,r){y||p(i=>{document.addEventListener(e,l,r),i(()=>document.removeEventListener(e,l,r))})}function H(e,l,r=E(()=>!0)){function i(n,m){if(!r.value||n.defaultPrevented)return;let u=m(n);if(u===null||!u.ownerDocument.documentElement.contains(u))return;let d=function o(t){return typeof t=="function"?o(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e);for(let o of d){if(o===null)continue;let t=o instanceof HTMLElement?o:L(o);if(t!=null&&t.contains(u))return}return!C(u,b.Loose)&&u.tabIndex!==-1&&n.preventDefault(),l(n,u)}let c=w(null);a("mousedown",n=>{r.value&&(c.value=n.target)},!0),a("click",n=>{!c.value||(i(n,()=>c.value),c.value=null)},!0),a("blur",n=>i(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{F as c,D as f,x as l,h as p,H as y};
